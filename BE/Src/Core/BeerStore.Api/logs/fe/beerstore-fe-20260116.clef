{"@t":"2026-01-16T14:19:01.7674476Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"c7eb39956c72a65d0d9ccc25cd72fcce","@sp":"a347198c822c39cd","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N6:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N6","SourceContextShort":"Diagnostics","ActivityId":"00-c7eb39956c72a65d0d9ccc25cd72fcce-a347198c822c39cd-00"}
{"@t":"2026-01-16T14:19:04.2421814Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"c7eb39956c72a65d0d9ccc25cd72fcce","@sp":"a347198c822c39cd","ElapsedMilliseconds":2491.4973,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N6:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N6","SourceContextShort":"Diagnostics","ActivityId":"00-c7eb39956c72a65d0d9ccc25cd72fcce-a347198c822c39cd-00"}
{"@t":"2026-01-16T14:19:04.2564497Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"c7eb39956c72a65d0d9ccc25cd72fcce","@sp":"a347198c822c39cd","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N6:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N6","SourceContextShort":"Diagnostics","ActivityId":"00-c7eb39956c72a65d0d9ccc25cd72fcce-a347198c822c39cd-00"}
{"@t":"2026-01-16T14:20:27.3087588Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"c74072a32b3a45a485128d245468e526","@sp":"ff35d43ba1d4a914","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N8","SourceContextShort":"Diagnostics","ActivityId":"00-c74072a32b3a45a485128d245468e526-ff35d43ba1d4a914-00"}
{"@t":"2026-01-16T14:20:27.3261286Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"c74072a32b3a45a485128d245468e526","@sp":"ff35d43ba1d4a914","ElapsedMilliseconds":18.2683,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N8","SourceContextShort":"Diagnostics","ActivityId":"00-c74072a32b3a45a485128d245468e526-ff35d43ba1d4a914-00"}
{"@t":"2026-01-16T14:20:27.3343661Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"c74072a32b3a45a485128d245468e526","@sp":"ff35d43ba1d4a914","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N8:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N8","SourceContextShort":"Diagnostics","ActivityId":"00-c74072a32b3a45a485128d245468e526-ff35d43ba1d4a914-00"}
{"@t":"2026-01-16T14:21:11.9900472Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"e3b4a0e31222418a22cb4558e8336556","@sp":"ead0ff5ae85200b1","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N8","SourceContextShort":"Diagnostics","ActivityId":"00-e3b4a0e31222418a22cb4558e8336556-ead0ff5ae85200b1-00"}
{"@t":"2026-01-16T14:21:11.9999883Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"e3b4a0e31222418a22cb4558e8336556","@sp":"ead0ff5ae85200b1","ElapsedMilliseconds":10.039,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N8","SourceContextShort":"Diagnostics","ActivityId":"00-e3b4a0e31222418a22cb4558e8336556-ead0ff5ae85200b1-00"}
{"@t":"2026-01-16T14:21:12.0080423Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"e3b4a0e31222418a22cb4558e8336556","@sp":"ead0ff5ae85200b1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/auth/login","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL18P5E2N8:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNIL18P5E2N8","SourceContextShort":"Diagnostics","ActivityId":"00-e3b4a0e31222418a22cb4558e8336556-ead0ff5ae85200b1-00"}
{"@t":"2026-01-16T14:23:09.2913650Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"a8b10e530ca9e39ebdd5064ba6452122","@sp":"11954fb943a9d3f3","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1B2UKFNJ:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1B2UKFNJ","SourceContextShort":"Diagnostics","ActivityId":"00-a8b10e530ca9e39ebdd5064ba6452122-11954fb943a9d3f3-00"}
{"@t":"2026-01-16T14:23:09.7744061Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"a8b10e530ca9e39ebdd5064ba6452122","@sp":"11954fb943a9d3f3","ElapsedMilliseconds":494.3225,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1B2UKFNJ:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1B2UKFNJ","SourceContextShort":"Diagnostics","ActivityId":"00-a8b10e530ca9e39ebdd5064ba6452122-11954fb943a9d3f3-00"}
{"@t":"2026-01-16T14:23:52.4907221Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"6ec91a51bd5d346acc0b37c234aad1b8","@sp":"ebdba20e3fded58e","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1B2UKFNJ:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1B2UKFNJ","SourceContextShort":"Diagnostics","ActivityId":"00-6ec91a51bd5d346acc0b37c234aad1b8-ebdba20e3fded58e-00"}
{"@t":"2026-01-16T14:23:59.0371464Z","@mt":"Failed to login. Email: {Email}","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()\r\n    .Where(r => True && False || (Guid?)r.UserId == __userId_0 && False || r.DeviceId.Value == __deviceId_1)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.FindTokenAsync(CancellationToken token, String tokenHash, Nullable`1 userId, String deviceId) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 18\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101","@tr":"6ec91a51bd5d346acc0b37c234aad1b8","@sp":"ebdba20e3fded58e","Email":"admin@beerstore.com","SourceContext":"BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler","ActionId":"9220aa79-e3b8-4b10-af7c-f82ac9b9cc3a","ActionName":"BeerStore.Api.Controllers.Auth.AuthenticationController.Login (BeerStore.Api)","RequestId":"0HNIL1B2UKFNJ:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1B2UKFNJ","SourceContextShort":"LoginCHandler","ActivityId":"00-6ec91a51bd5d346acc0b37c234aad1b8-ebdba20e3fded58e-00"}
{"@t":"2026-01-16T14:23:59.4683301Z","@mt":"Unhandled exception","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()\r\n    .Where(r => True && False || (Guid?)r.UserId == __userId_0 && False || r.DeviceId.Value == __deviceId_1)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.FindTokenAsync(CancellationToken token, String tokenHash, Nullable`1 userId, String deviceId) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 18\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 142\r\n   at BeerStore.Api.Controllers.Auth.AuthenticationController.Login(LoginRequest request, String deviceId, String deviceName, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Api\\Controllers\\Auth\\AuthenticationController.cs:line 36\r\n   at lambda_method6(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Api.Core.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Api.Core\\Middleware\\ExceptionMiddleware.cs:line 25","@tr":"6ec91a51bd5d346acc0b37c234aad1b8","@sp":"ebdba20e3fded58e","SourceContext":"Api.Core.Middleware.ExceptionMiddleware","RequestId":"0HNIL1B2UKFNJ:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1B2UKFNJ","SourceContextShort":"ExceptionMiddleware","ActivityId":"00-6ec91a51bd5d346acc0b37c234aad1b8-ebdba20e3fded58e-00"}
{"@t":"2026-01-16T14:23:59.5093038Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"6ec91a51bd5d346acc0b37c234aad1b8","@sp":"ebdba20e3fded58e","ElapsedMilliseconds":7019.007,"StatusCode":500,"ContentType":"application/problem+json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1B2UKFNJ:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1B2UKFNJ","SourceContextShort":"Diagnostics","ActivityId":"00-6ec91a51bd5d346acc0b37c234aad1b8-ebdba20e3fded58e-00"}
{"@t":"2026-01-16T14:50:09.7786678Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"a37872bb6eaa9544028c33abb6496c3c","@sp":"3a308105aa147a5c","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1Q5SUI1J:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1Q5SUI1J","SourceContextShort":"Diagnostics","ActivityId":"00-a37872bb6eaa9544028c33abb6496c3c-3a308105aa147a5c-00"}
{"@t":"2026-01-16T14:50:14.6377455Z","@mt":"Failed to login. Email: {Email}","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()\r\n    .Where(r => r.UserId == __userId_0 && r.DeviceId.Value == __deviceId_1 && (int)r.TokenStatus.Value == 0 && r.ExpiresAt > DateTimeOffset.UtcNow)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.GetByUserIdAndDeviceIdAsync(Guid userId, String deviceId, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 39\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101","@tr":"a37872bb6eaa9544028c33abb6496c3c","@sp":"3a308105aa147a5c","Email":"admin@beerstore.com","SourceContext":"BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler","ActionId":"b1c60bc1-b70b-4aa8-915c-5b6ecc3ffd27","ActionName":"BeerStore.Api.Controllers.Auth.AuthenticationController.Login (BeerStore.Api)","RequestId":"0HNIL1Q5SUI1J:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1Q5SUI1J","SourceContextShort":"LoginCHandler","ActivityId":"00-a37872bb6eaa9544028c33abb6496c3c-3a308105aa147a5c-00"}
{"@t":"2026-01-16T14:50:15.0450271Z","@mt":"Unhandled exception","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()\r\n    .Where(r => r.UserId == __userId_0 && r.DeviceId.Value == __deviceId_1 && (int)r.TokenStatus.Value == 0 && r.ExpiresAt > DateTimeOffset.UtcNow)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.GetByUserIdAndDeviceIdAsync(Guid userId, String deviceId, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 39\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 142\r\n   at BeerStore.Api.Controllers.Auth.AuthenticationController.Login(LoginRequest request, String deviceId, String deviceName, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Api\\Controllers\\Auth\\AuthenticationController.cs:line 36\r\n   at lambda_method6(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Api.Core.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Api.Core\\Middleware\\ExceptionMiddleware.cs:line 25","@tr":"a37872bb6eaa9544028c33abb6496c3c","@sp":"3a308105aa147a5c","SourceContext":"Api.Core.Middleware.ExceptionMiddleware","RequestId":"0HNIL1Q5SUI1J:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1Q5SUI1J","SourceContextShort":"ExceptionMiddleware","ActivityId":"00-a37872bb6eaa9544028c33abb6496c3c-3a308105aa147a5c-00"}
{"@t":"2026-01-16T14:50:15.1020963Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"a37872bb6eaa9544028c33abb6496c3c","@sp":"3a308105aa147a5c","ElapsedMilliseconds":5334.9827,"StatusCode":500,"ContentType":"application/problem+json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1Q5SUI1J:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1Q5SUI1J","SourceContextShort":"Diagnostics","ActivityId":"00-a37872bb6eaa9544028c33abb6496c3c-3a308105aa147a5c-00"}
{"@t":"2026-01-16T14:56:50.0263709Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"69b8dcd8a9bcf6b183253ab7f7cdb563","@sp":"9455079e95c66b84","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1TT5SML5:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1TT5SML5","SourceContextShort":"Diagnostics","ActivityId":"00-69b8dcd8a9bcf6b183253ab7f7cdb563-9455079e95c66b84-00"}
{"@t":"2026-01-16T14:56:54.7840527Z","@mt":"Failed to login. Email: {Email}","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()\r\n    .Where(r => r.UserId == __userId_0 && (string)r.DeviceId == __deviceId_1 && (int)r.TokenStatus.Value == 0 && r.ExpiresAt > DateTimeOffset.UtcNow)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.GetByUserIdAndDeviceIdAsync(Guid userId, String deviceId, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 39\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101","@tr":"69b8dcd8a9bcf6b183253ab7f7cdb563","@sp":"9455079e95c66b84","Email":"admin@beerstore.com","SourceContext":"BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler","ActionId":"39c7de87-f49d-457c-b0a5-581e993b4d82","ActionName":"BeerStore.Api.Controllers.Auth.AuthenticationController.Login (BeerStore.Api)","RequestId":"0HNIL1TT5SML5:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1TT5SML5","SourceContextShort":"LoginCHandler","ActivityId":"00-69b8dcd8a9bcf6b183253ab7f7cdb563-9455079e95c66b84-00"}
{"@t":"2026-01-16T14:56:55.2209037Z","@mt":"Unhandled exception","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()\r\n    .Where(r => r.UserId == __userId_0 && (string)r.DeviceId == __deviceId_1 && (int)r.TokenStatus.Value == 0 && r.ExpiresAt > DateTimeOffset.UtcNow)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.GetByUserIdAndDeviceIdAsync(Guid userId, String deviceId, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 39\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 142\r\n   at BeerStore.Api.Controllers.Auth.AuthenticationController.Login(LoginRequest request, String deviceId, String deviceName, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Api\\Controllers\\Auth\\AuthenticationController.cs:line 36\r\n   at lambda_method6(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Api.Core.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Api.Core\\Middleware\\ExceptionMiddleware.cs:line 25","@tr":"69b8dcd8a9bcf6b183253ab7f7cdb563","@sp":"9455079e95c66b84","SourceContext":"Api.Core.Middleware.ExceptionMiddleware","RequestId":"0HNIL1TT5SML5:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1TT5SML5","SourceContextShort":"ExceptionMiddleware","ActivityId":"00-69b8dcd8a9bcf6b183253ab7f7cdb563-9455079e95c66b84-00"}
{"@t":"2026-01-16T14:56:55.2748183Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"69b8dcd8a9bcf6b183253ab7f7cdb563","@sp":"9455079e95c66b84","ElapsedMilliseconds":5260.1612,"StatusCode":500,"ContentType":"application/problem+json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1TT5SML5:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1TT5SML5","SourceContextShort":"Diagnostics","ActivityId":"00-69b8dcd8a9bcf6b183253ab7f7cdb563-9455079e95c66b84-00"}
{"@t":"2026-01-16T14:59:48.8036932Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"0a06659fb6b289e3acb496d60c15a83a","@sp":"d6919c08cab3c1bd","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1VIEVDFH:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1VIEVDFH","SourceContextShort":"Diagnostics","ActivityId":"00-0a06659fb6b289e3acb496d60c15a83a-d6919c08cab3c1bd-00"}
{"@t":"2026-01-16T14:59:53.8710651Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","@tr":"0a06659fb6b289e3acb496d60c15a83a","@sp":"d6919c08cab3c1bd","elapsed":"27","parameters":"@__userId_0='?' (DbType = Guid), @__deviceId_1='?' (Size = 4000), @__Active_2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[IdRefreshToken], [r].[CreatedAt], [r].[CreatedBy], [r].[DeviceId], [r].[DeviceName], [r].[ExpiresAt], [r].[IpAddress], [r].[TokenHash], [r].[TokenStatus], [r].[UpdatedAt], [r].[UpdatedBy], [r].[UserId]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[UserId] = @__userId_0 AND CAST([r].[DeviceId] AS nvarchar(max)) = @__deviceId_1 AND [r].[TokenStatus] = @__Active_2 AND [r].[ExpiresAt] > CAST(SYSUTCDATETIME() AS datetimeoffset)","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6189bc69-c713-4719-a6f3-0f6cd8752f82","ActionName":"BeerStore.Api.Controllers.Auth.AuthenticationController.Login (BeerStore.Api)","RequestId":"0HNIL1VIEVDFH:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1VIEVDFH","SourceContextShort":"Command","ActivityId":"00-0a06659fb6b289e3acb496d60c15a83a-d6919c08cab3c1bd-00"}
{"@t":"2026-01-16T14:59:53.9165023Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\nClientConnectionId:5b12c5eb-a2ef-44e3-8eb7-d427fdcc486e\r\nError Number:208,State:1,Class:16","@tr":"0a06659fb6b289e3acb496d60c15a83a","@sp":"d6919c08cab3c1bd","contextType":"BeerStore.Infrastructure.Persistence.Db.AuthDbContext","newline":"\r\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\nClientConnectionId:5b12c5eb-a2ef-44e3-8eb7-d427fdcc486e\r\nError Number:208,State:1,Class:16","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6189bc69-c713-4719-a6f3-0f6cd8752f82","ActionName":"BeerStore.Api.Controllers.Auth.AuthenticationController.Login (BeerStore.Api)","RequestId":"0HNIL1VIEVDFH:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1VIEVDFH","SourceContextShort":"Query","ActivityId":"00-0a06659fb6b289e3acb496d60c15a83a-d6919c08cab3c1bd-00"}
{"@t":"2026-01-16T14:59:54.1982492Z","@mt":"Failed to login. Email: {Email}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.GetByUserIdAndDeviceIdAsync(Guid userId, String deviceId, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 39\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101\r\nClientConnectionId:5b12c5eb-a2ef-44e3-8eb7-d427fdcc486e\r\nError Number:208,State:1,Class:16","@tr":"0a06659fb6b289e3acb496d60c15a83a","@sp":"d6919c08cab3c1bd","Email":"admin@beerstore.com","SourceContext":"BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler","ActionId":"6189bc69-c713-4719-a6f3-0f6cd8752f82","ActionName":"BeerStore.Api.Controllers.Auth.AuthenticationController.Login (BeerStore.Api)","RequestId":"0HNIL1VIEVDFH:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1VIEVDFH","SourceContextShort":"LoginCHandler","ActivityId":"00-0a06659fb6b289e3acb496d60c15a83a-d6919c08cab3c1bd-00"}
{"@t":"2026-01-16T14:59:54.8186019Z","@mt":"Unhandled exception","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at BeerStore.Infrastructure.Repository.Auth.Read.RRefreshTokenRepository.GetByUserIdAndDeviceIdAsync(Guid userId, String deviceId, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Infrastructure\\Repository\\Auth\\Read\\RRefreshTokenRepository.cs:line 39\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 101\r\n   at BeerStore.Application.Modules.Auth.Authentication.Command.Login.LoginCHandler.Handle(LoginCommand command, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Authentication\\Command\\Login\\LoginCHandler.cs:line 142\r\n   at BeerStore.Api.Controllers.Auth.AuthenticationController.Login(LoginRequest request, String deviceId, String deviceName, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Api\\Controllers\\Auth\\AuthenticationController.cs:line 36\r\n   at lambda_method6(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Api.Core.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Api.Core\\Middleware\\ExceptionMiddleware.cs:line 25\r\nClientConnectionId:5b12c5eb-a2ef-44e3-8eb7-d427fdcc486e\r\nError Number:208,State:1,Class:16","@tr":"0a06659fb6b289e3acb496d60c15a83a","@sp":"d6919c08cab3c1bd","SourceContext":"Api.Core.Middleware.ExceptionMiddleware","RequestId":"0HNIL1VIEVDFH:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1VIEVDFH","SourceContextShort":"ExceptionMiddleware","ActivityId":"00-0a06659fb6b289e3acb496d60c15a83a-d6919c08cab3c1bd-00"}
{"@t":"2026-01-16T14:59:54.8901706Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"0a06659fb6b289e3acb496d60c15a83a","@sp":"d6919c08cab3c1bd","ElapsedMilliseconds":6100.626,"StatusCode":500,"ContentType":"application/problem+json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL1VIEVDFH:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL1VIEVDFH","SourceContextShort":"Diagnostics","ActivityId":"00-0a06659fb6b289e3acb496d60c15a83a-d6919c08cab3c1bd-00"}
{"@t":"2026-01-16T15:11:45.1540944Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"0a10d4f3c19dc7c6427e05957a49b66d","@sp":"f1c21272f22b2337","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":66,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL267UER72:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL267UER72","SourceContextShort":"Diagnostics","ActivityId":"00-0a10d4f3c19dc7c6427e05957a49b66d-f1c21272f22b2337-00"}
{"@t":"2026-01-16T15:11:50.3008258Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"0a10d4f3c19dc7c6427e05957a49b66d","@sp":"f1c21272f22b2337","ElapsedMilliseconds":5158.8678,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL267UER72:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HNIL267UER72","SourceContextShort":"Diagnostics","ActivityId":"00-0a10d4f3c19dc7c6427e05957a49b66d-f1c21272f22b2337-00"}
{"@t":"2026-01-16T15:12:16.5229822Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"fc6c72011ff32a25e65c9866ab3b7650","@sp":"e5d64e09ca03c9b1","Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/Permission","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL267UER72:00000002","RequestPath":"/api/Permission","ConnectionId":"0HNIL267UER72","SourceContextShort":"Diagnostics","ActivityId":"00-fc6c72011ff32a25e65c9866ab3b7650-e5d64e09ca03c9b1-00"}
{"@t":"2026-01-16T15:12:21.9851524Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Domain.Core.RuleException.MultiRuleException: Exception of type 'Domain.Core.RuleException.MultiRuleException' was thrown.\r\n   at Domain.Core.Rule.RuleValidator.CheckRules[TField](IEnumerable`1 rules) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Domain.Core\\Rule\\RuleValidator.cs:line 20\r\n   at BeerStore.Domain.ValueObjects.Auth.Permission.Enums.Module.Create(ModuleEnum value) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Domain\\ValueObjects\\Auth\\Permission\\Module.cs:line 18\r\n   at lambda_method284(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","@tr":"fc6c72011ff32a25e65c9866ab3b7650","@sp":"e5d64e09ca03c9b1","contextType":"BeerStore.Infrastructure.Persistence.Db.AuthDbContext","newline":"\r\n","error":"Domain.Core.RuleException.MultiRuleException: Exception of type 'Domain.Core.RuleException.MultiRuleException' was thrown.\r\n   at Domain.Core.Rule.RuleValidator.CheckRules[TField](IEnumerable`1 rules) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Domain.Core\\Rule\\RuleValidator.cs:line 20\r\n   at BeerStore.Domain.ValueObjects.Auth.Permission.Enums.Module.Create(ModuleEnum value) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Domain\\ValueObjects\\Auth\\Permission\\Module.cs:line 18\r\n   at lambda_method284(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"3fe14c30-7196-44d7-9561-7b7b56b5b453","ActionName":"BeerStore.Api.Controllers.Auth.PermissionController.GetAll (BeerStore.Api)","RequestId":"0HNIL267UER72:00000002","RequestPath":"/api/Permission","ConnectionId":"0HNIL267UER72","SourceContextShort":"Query","ActivityId":"00-fc6c72011ff32a25e65c9866ab3b7650-e5d64e09ca03c9b1-00"}
{"@t":"2026-01-16T15:12:26.1014300Z","@mt":"Multiple business rule violations","@l":"Warning","@x":"Domain.Core.RuleException.MultiRuleException: Exception of type 'Domain.Core.RuleException.MultiRuleException' was thrown.\r\n   at Domain.Core.Rule.RuleValidator.CheckRules[TField](IEnumerable`1 rules) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Domain.Core\\Rule\\RuleValidator.cs:line 20\r\n   at BeerStore.Domain.ValueObjects.Auth.Permission.Enums.Module.Create(ModuleEnum value) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Domain\\ValueObjects\\Auth\\Permission\\Module.cs:line 18\r\n   at lambda_method284(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Infrastructure.Core.Repository.ReadRepositoryGeneric`1.GetAllAsync(CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Infrastructure.Core\\Repository\\ReadRepositoryGeneric.cs:line 22\r\n   at BeerStore.Application.Modules.Auth.Permissions.Queries.GetAllPermission.GetAllPermissionQHandler.Handle(GetAllPermissionQuery query, CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Application\\Modules\\Auth\\Permissions\\Queries\\GetAllPermission\\GetAllPermissionQHandler.cs:line 19\r\n   at BeerStore.Api.Controllers.Auth.PermissionController.GetAll(CancellationToken token) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Core\\BeerStore.Api\\Controllers\\Auth\\PermissionController.cs:line 33\r\n   at lambda_method265(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Api.Core.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Code\\Project\\Beer_Store\\BE\\Src\\Shared\\Api.Core\\Middleware\\ExceptionMiddleware.cs:line 25","@tr":"fc6c72011ff32a25e65c9866ab3b7650","@sp":"e5d64e09ca03c9b1","SourceContext":"Api.Core.Middleware.ExceptionMiddleware","RequestId":"0HNIL267UER72:00000002","RequestPath":"/api/Permission","ConnectionId":"0HNIL267UER72","SourceContextShort":"ExceptionMiddleware","ActivityId":"00-fc6c72011ff32a25e65c9866ab3b7650-e5d64e09ca03c9b1-00"}
{"@t":"2026-01-16T15:12:26.1368792Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"fc6c72011ff32a25e65c9866ab3b7650","@sp":"e5d64e09ca03c9b1","ElapsedMilliseconds":9614.9736,"StatusCode":400,"ContentType":"application/problem+json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/Permission","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL267UER72:00000002","RequestPath":"/api/Permission","ConnectionId":"0HNIL267UER72","SourceContextShort":"Diagnostics","ActivityId":"00-fc6c72011ff32a25e65c9866ab3b7650-e5d64e09ca03c9b1-00"}
{"@t":"2026-01-16T15:28:04.3247351Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"6eaa1da79e93c44b61b27286ec8ba37d","@sp":"81ef201e17856168","Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/Permission","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL2FBNT45Q:00000001","RequestPath":"/api/Permission","ConnectionId":"0HNIL2FBNT45Q","SourceContextShort":"Diagnostics","ActivityId":"00-6eaa1da79e93c44b61b27286ec8ba37d-81ef201e17856168-00"}
{"@t":"2026-01-16T15:28:07.9510684Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"6eaa1da79e93c44b61b27286ec8ba37d","@sp":"81ef201e17856168","ElapsedMilliseconds":3647.1228,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"https","Host":"localhost:7124","PathBase":"","Path":"/api/Permission","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNIL2FBNT45Q:00000001","RequestPath":"/api/Permission","ConnectionId":"0HNIL2FBNT45Q","SourceContextShort":"Diagnostics","ActivityId":"00-6eaa1da79e93c44b61b27286ec8ba37d-81ef201e17856168-00"}
